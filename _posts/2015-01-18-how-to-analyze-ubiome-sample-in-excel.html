---
layout: post
title: How to analyze a uBiome sample in Excel
date: '2015-01-18T21:35:00.001-08:00'
author: Richard Sprague
tags:
- Biology
modified_time: '2015-01-19T07:05:51.978-08:00'
thumbnail: http://lh3.ggpht.com/-3kiOrFU4RXQ/VLyXWCY-o8I/AAAAAAAC9jg/sHlhTPsYV0g/s72-c/uBiome_-_Explore_your_Microbiome.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-8203221.post-2563545160283154274
blogger_orig_url: http://blog.richardsprague.com/2015/01/how-to-analyze-ubiome-sample-in-excel.html
---

<div>Although I’ve done <a href="http://blog.richardsprague.com/2015/01/my-ubiome-third-sample.html">three samples</a> at this point, I’m by no means a uBiome expert, but hopefully the following guide will be useful to others who are trying to understand their own results better.</div><div> </div><div>After your uBiome sample has been submitted and processed, you will be given access to a private web page with some basic web tools to help you understand your results, but the tools are still under development and you may find them hard to interpret. You also can’t do A/B comparisons of your sample to others, or to your own samples over time, so at some point you’ll need the raw data, which fortunately is easy to get. Log in at http://beta.ubiome.com, then browse your way to a screen where you’ll see this on the left side:</div><div> </div><div><img title="uBiome_-_Explore_your_Microbiome.png" src="http://lh3.ggpht.com/-3kiOrFU4RXQ/VLyXWCY-o8I/AAAAAAAC9jg/sHlhTPsYV0g/uBiome_-_Explore_your_Microbiome.png?imgmax=800" alt="UBiome Explore your Microbiome" width="254" height="256" border="0" /></div><div>When you select “Raw Taxonomy”, you’ll go to a page with a bunch of apparently garbled noise like this:</div><div><img title="NewImage.png" src="http://lh3.ggpht.com/-ZDxpReQ-KTs/VLyXYhvMLtI/AAAAAAAC9jo/xmKx4C9kQqc/NewImage.png?imgmax=800" alt="uBiome Results" width="540" border="0" /></div><div> </div><div>That’s the raw data. Now go to my<a href="https://github.com/richardsprague/uBiome"> uBiome site on Github</a> for more instructions and tools to turn that mess into a CSV file, which you can open in Excel.  If that’s too much trouble, an alternative is to simply select-all the information on that page, and then copy/paste it into <a href="https://json-csv.com">https://json-csv.com</a></div><div> </div><div>Once you open that CSV file in Excel, you are home free, thanks to the many, easy built-in analysis tools there. For example, here are the first few rows of my June 2014 sample:</div><div><img title="Screenshot uBiome Excel CSV.jpg" src="http://lh3.ggpht.com/-qBfcIkRWtFU/VLyXbXox8TI/AAAAAAAC9jw/HNrr8FOgyZk/Screenshot%252520uBiome%252520Excel%252520CSV.jpg?imgmax=800" alt="Screenshot uBiome Excel CSV" width="540" border="0" /></div><div> </div><div>Next you need to understand a few column labels:</div><div><ul><li><strong>count</strong>: the actual number of organisms found in the sample.</li><li><strong>count_norm</strong>: a “normalized” version of the count, which you can think of as a percentage. It appears to be a number that uBiome assigned based on the other data they’ve accumulated from other people over the years. I don’t know, but it doesn’t seem to be an industry-standard benchmark. Anyway, you can think of it as 1 / 10,000th of a percent, so in the sample above my level of Firmucutes would be 62.2877%.</li><li><strong>tax_name: </strong>this is the classification of the organism, based on the level of its taxonomy. Generally, we think of an organism in terms of species (e.g. <em>homo sapiens</em>), but each organism belongs to other, bigger clusters. For example, humans are members of the class mammalia, along with tigers and horses. If this spreadsheet were counting organisms at the level of class mammalia, the count_norm would almost certainly be bigger than the count_norm for humans alone, unless humans were the only type of mammal found in the sample. Make sense?</li><li><strong>tax_rank: </strong>tells which level of taxonomy is represented by this row. You’ll need to know a tiny bit of botany to understand this, which I’ll explain more below, but for now just note that some of the counts will appear duplicated unless you take this into account.</li><li><strong>taxon</strong> and <strong>parent</strong>: these help identify the ranking in a more precise way by pointing out which <strong>tax_rank</strong>s are subsets of which. For example, <em>Bacteroidia</em> above has a parent = 976, meaning that it is a subset of the taxon 976, <em>Bacteroidetes</em>. When you follow the various taxons and parents up the chain, you’ll see they all end in the superkingdom <em>Bacteria</em>, which has a taxon of 2. I have no idea why they assign the parent of Bacteria the number 131567, but don’t worry: it doesn’t matter.</li><li><strong>tax_color</strong> doesn’t matter for this anaysis, but it appears to be how the uBiome software colorizes their pretty graphs to make them more readable.</li></ul></div><div> </div><div>Now for the botany. The science of Taxonomy (worked out first by Carl Linnaeus in the 1700s), divides all life into seven major categories (ranks): Kingdom, Phylum, Class, Order, Family, Genus, Species (which I was taught in sixth grade to remember by the mnemonic “King Philip Came Over for Girl Scouts”). When you analyze a uBiome sample, you cannot mix and match these ranks. If you talk about species, for example, you must compare the counts to other species — never with a different taxonomic rank.</div><div> </div><div>With that out of the way, the next thing is to tell Excel to apply a filter to the whole sheet. In Mac Excel, I just select the filter icon like this:</div><div><img title="Screenshot Excel filter.jpg" src="http://lh4.ggpht.com/-rG0AEEjp2l8/VLyXd0hQlAI/AAAAAAAC9j4/kMAwamisTeM/Screenshot%252520Excel%252520filter.jpg?imgmax=800" alt="Screenshot Excel filter" width="540" border="0" /></div><div> </div><div>The first row is transformed into a nifty filtering device. Note how the right side of each cell has a little upside down triangle. Select that and a new pop-up menu will appear that lets you sort and filter the column however you like.  Here’s what it looks like when I look just at the tax_rank = phylum, and sort the count_norm in descending order (I also hid the avg column to simply the image):</div><div><img title="Screenshot Excel Phylum.jpg" src="http://lh5.ggpht.com/-u3Y9QqEyGvc/VLyXgp6m8OI/AAAAAAAC9kA/CrMCugnQQ6U/Screenshot%252520Excel%252520Phylum.jpg?imgmax=800" alt="Screenshot Excel Phylum" width="276" height="282" border="0" /></div><div>The count_norm column now corresponds exactly to the percentage breakdown in the fancy charts on the uBiome site!</div><div><img title="Screenshot uBiome chart.jpg" src="http://lh5.ggpht.com/-vhvFcb1o_j4/VLyXn72Nd-I/AAAAAAAC9kQ/kETb246B4E0/Screenshot%252520uBiome%252520chart.jpg?imgmax=800" alt="Screenshot uBiome chart" width="190" height="227" border="0" /></div><div>Here’s the Excel donut chart I made of the above sample:</div><div><img title="Screenshot Excel Chart.jpg" src="http://lh6.ggpht.com/-pOIG5FeGKCc/VLyXlESJ2uI/AAAAAAAC9kI/QgDfoAXO0Tc/Screenshot%252520Excel%252520Chart.jpg?imgmax=800" alt="Screenshot Excel Chart" width="345" height="209" border="0" /></div><div> </div><div>See? Same info!</div><div> </div><div>But now that it’s in Excel, you can do much easier analysis than what you get currently on the uBiome site. For example, try selecting tax_rank = species and then sort tax_name alphabetically.  Now I can look alphabetically at all the different <em>Bifido </em>species<em> </em>found in my sample:</div><div><img title="Screenshot Excel bifido.jpg" src="http://lh5.ggpht.com/-A4CYsuMU6Cs/VLyXrFnQv3I/AAAAAAAC9kY/RC9R012pPhs/Screenshot%252520Excel%252520bifido.jpg?imgmax=800" alt="Screenshot Excel bifido" width="326" height="108" border="0" /></div><div> </div><div>Easy!</div><div> </div><div>There’s much more to say about uBiome, which I’ll cover in a future post.  (Huge shout-out to <a href="https://twitter.com/Gut_Goddess">Dr. Grace Liu</a> and her <a href="http://drbganimalpharm.blogspot.com">Animal Pharm</a> web site for the tons of information I’m just beginning to pour through — highly recommended).</div>